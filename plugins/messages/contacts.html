<div id="header-action-recent" class="header-action"></div>
<div class="panel-container">
    <div class="path-messages contacts">
        <input type="search">

        <% var types = ["online", "offline", "strangers"]; %>
        <% types.forEach(function(type) { %>

        <% _.each(contacts[type], function(contact) { %>
        <% var user = MM.plugins.messages.recentContactsIds[contact.id]; %>
        <% if (!user) return; %>
        <h2>
            <% if (type == "online") { %>
                <%= MM.lang.s("onlinecontacts") %>
            <% } else if (type == "offline") { %>
                <%= MM.lang.s("offlinecontacts") %>
            <% } else  { %>
                <%= MM.lang.s("others") %>
            <% } %>
        </h2>
        <ul class="nav nav-v">
            <li class="nav-item">
                <a class="media touch-row" href="#messages/conversation/<%= contact.id %>">
                    <div class="img">
                        <% if (user.profileimageurl) { %>
                        <img src="<%= MM.util.getMoodleFilePath(user.profileimageurl) %>">
                        <% } else { %>
                        <img src="img/userimage.png">
                        <% } %>
                    </div>
                    <div class="bd">
                        <p><%= user.fullname %></p>
                    </div>
                </a>
            </li>
        </ul>
        <% }); %>
        <% }); %>

    </div>
</div>
